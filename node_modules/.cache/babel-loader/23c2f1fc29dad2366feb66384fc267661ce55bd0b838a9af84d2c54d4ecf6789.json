{"ast":null,"code":"export default function audioType(buf) {\n  if (!buf) return;\n  buf = new Uint8Array(buf.buffer || buf);\n  if (isWav(buf)) return 'wav';\n  if (isMp3(buf)) return 'mp3';\n  if (isFlac(buf)) return 'flac';\n  if (isM4a(buf)) return 'm4a';\n  if (isOpus(buf)) return 'opus'; // overlaps with ogg, so must come first\n  if (isOgg(buf)) return 'oga';\n  if (isQoa(buf)) return 'qoa';\n}\n;\nexport function isMp3(buf) {\n  if (!buf || buf.length < 3) return;\n  return buf[0] === 0x49 && buf[1] === 0x44 && buf[2] === 0x33 ||\n  // id3\n  buf[0] === 0xff && (buf[1] & 0xe0) === 0xe0 ||\n  // no tag\n  buf[0] === 0x54 && buf[1] === 0x41 && buf[2] === 0x47; // 'TAG'\n}\n;\nexport function isWav(buf) {\n  if (!buf || buf.length < 12) return;\n  return buf[0] === 82 && buf[1] === 73 && buf[2] === 70 && buf[3] === 70 && buf[8] === 87 && buf[9] === 65 && buf[10] === 86 && buf[11] === 69;\n}\nexport function isOgg(buf) {\n  if (!buf || buf.length < 4) return;\n  return buf[0] === 79 && buf[1] === 103 && buf[2] === 103 && buf[3] === 83;\n}\nexport function isFlac(buf) {\n  if (!buf || buf.length < 4) return;\n  return buf[0] === 102 && buf[1] === 76 && buf[2] === 97 && buf[3] === 67;\n}\nexport function isM4a(buf) {\n  if (!buf || buf.length < 8) return;\n  return buf[4] === 102 && buf[5] === 116 && buf[6] === 121 && buf[7] === 112 || buf[0] === 77 && buf[1] === 52 && buf[2] === 65 && buf[3] === 32;\n}\nexport function isOpus(buf) {\n  if (!buf || buf.length < 36) return;\n\n  // Bytes 0 to 3: detect general OGG (OPUS is OGG)\n  // Bytes 28 to 35: detect OPUS\n  return buf[0] === 79 && buf[1] === 103 && buf[2] === 103 && buf[3] === 83 && buf[28] === 79 && buf[29] === 112 && buf[30] === 117 && buf[31] === 115 && buf[32] === 72 && buf[33] === 101 && buf[34] === 97 && buf[35] === 100;\n}\nexport function isQoa(buf) {\n  if (!buf) return;\n  return buf[0] === 0x71 && buf[1] === 0x6f && buf[2] === 0x61 && buf[3] === 0x66;\n}","map":{"version":3,"names":["audioType","buf","Uint8Array","buffer","isWav","isMp3","isFlac","isM4a","isOpus","isOgg","isQoa","length"],"sources":["C:/Users/vanitas/node_modules/audio-type/audio-type.js"],"sourcesContent":["export default function audioType (buf) {\n\tif (!buf) return;\n\n\tbuf = new Uint8Array(buf.buffer || buf)\n\n\tif (isWav(buf)) return 'wav';\n\tif (isMp3(buf)) return 'mp3';\n\tif (isFlac(buf)) return 'flac';\n\tif (isM4a(buf)) return 'm4a';\n\tif (isOpus(buf)) return 'opus'; // overlaps with ogg, so must come first\n\tif (isOgg(buf)) return 'oga';\n\tif (isQoa(buf)) return 'qoa';\n};\n\nexport function isMp3 (buf) {\n\tif (!buf || buf.length < 3) return\n\n\treturn (buf[0] === 0x49 && buf[1] === 0x44 && buf[2] === 0x33) || // id3\n\t\t( buf[0] === 0xff && (buf[1] & 0xe0) === 0xe0 ) || // no tag\n\t\t( buf[0] === 0x54 && buf[1] === 0x41 && buf[2] === 0x47) // 'TAG'\n};\n\nexport function isWav(buf) {\n\tif (!buf || buf.length < 12) return\n\n\treturn buf[0] === 82 &&\n\t\tbuf[1] === 73 &&\n\t\tbuf[2] === 70 &&\n\t\tbuf[3] === 70 &&\n\t\tbuf[8] === 87 &&\n\t\tbuf[9] === 65 &&\n\t\tbuf[10] === 86 &&\n\t\tbuf[11] === 69;\n}\n\nexport function isOgg(buf) {\n\tif (!buf || buf.length < 4) return;\n\n\treturn  buf[0] === 79 &&\n\t\tbuf[1] === 103 &&\n\t\tbuf[2] === 103 &&\n\t\tbuf[3] === 83;\n}\n\nexport function isFlac(buf) {\n\tif (!buf || buf.length < 4) return;\n\n\treturn buf[0] === 102 &&\n\t\tbuf[1] === 76 &&\n\t\tbuf[2] === 97 &&\n\t\tbuf[3] === 67;\n}\n\nexport function isM4a(buf) {\n\tif (!buf || buf.length < 8) return;\n\n\treturn (buf[4] === 102 &&\n\t\tbuf[5] === 116 &&\n\t\tbuf[6] === 121 &&\n\t\tbuf[7] === 112) || (\n\t\t\tbuf[0] === 77 &&\n\t\t\tbuf[1] === 52 &&\n\t\t\tbuf[2] === 65 &&\n\t\t\tbuf[3] === 32\n\t\t);\n}\n\nexport function isOpus(buf) {\n\tif (!buf || buf.length < 36) return\n\n\t// Bytes 0 to 3: detect general OGG (OPUS is OGG)\n\t// Bytes 28 to 35: detect OPUS\n\treturn buf[0] === 79 &&\n\t\tbuf[1] === 103 &&\n\t\tbuf[2] === 103 &&\n\t\tbuf[3] === 83 &&\n\t\tbuf[28] === 79 &&\n\t\tbuf[29] === 112 &&\n\t\tbuf[30] === 117 &&\n\t\tbuf[31] === 115 &&\n\t\tbuf[32] === 72 &&\n\t\tbuf[33] === 101 &&\n\t\tbuf[34] === 97 &&\n\t\tbuf[35] === 100;\n}\n\nexport function isQoa(buf) {\n\tif (!buf) return\n\treturn (buf[0] === 0x71 && buf[1] === 0x6f && buf[2] === 0x61 && buf[3] === 0x66)\n}"],"mappings":"AAAA,eAAe,SAASA,SAASA,CAAEC,GAAG,EAAE;EACvC,IAAI,CAACA,GAAG,EAAE;EAEVA,GAAG,GAAG,IAAIC,UAAU,CAACD,GAAG,CAACE,MAAM,IAAIF,GAAG,CAAC;EAEvC,IAAIG,KAAK,CAACH,GAAG,CAAC,EAAE,OAAO,KAAK;EAC5B,IAAII,KAAK,CAACJ,GAAG,CAAC,EAAE,OAAO,KAAK;EAC5B,IAAIK,MAAM,CAACL,GAAG,CAAC,EAAE,OAAO,MAAM;EAC9B,IAAIM,KAAK,CAACN,GAAG,CAAC,EAAE,OAAO,KAAK;EAC5B,IAAIO,MAAM,CAACP,GAAG,CAAC,EAAE,OAAO,MAAM,CAAC,CAAC;EAChC,IAAIQ,KAAK,CAACR,GAAG,CAAC,EAAE,OAAO,KAAK;EAC5B,IAAIS,KAAK,CAACT,GAAG,CAAC,EAAE,OAAO,KAAK;AAC7B;AAAC;AAED,OAAO,SAASI,KAAKA,CAAEJ,GAAG,EAAE;EAC3B,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACU,MAAM,GAAG,CAAC,EAAE;EAE5B,OAAQV,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI;EAAK;EAC/DA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAACA,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,MAAM,IAAM;EAAI;EACjDA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAK,EAAC;AAC3D;AAAC;AAED,OAAO,SAASG,KAAKA,CAACH,GAAG,EAAE;EAC1B,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACU,MAAM,GAAG,EAAE,EAAE;EAE7B,OAAOV,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACnBA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,IACdA,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE;AAChB;AAEA,OAAO,SAASQ,KAAKA,CAACR,GAAG,EAAE;EAC1B,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACU,MAAM,GAAG,CAAC,EAAE;EAE5B,OAAQV,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACpBA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACdA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACdA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE;AACf;AAEA,OAAO,SAASK,MAAMA,CAACL,GAAG,EAAE;EAC3B,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACU,MAAM,GAAG,CAAC,EAAE;EAE5B,OAAOV,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACpBA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE;AACf;AAEA,OAAO,SAASM,KAAKA,CAACN,GAAG,EAAE;EAC1B,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACU,MAAM,GAAG,CAAC,EAAE;EAE5B,OAAQV,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACrBA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACdA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACdA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,CAAC,CAAC,KAAK,EACX;AACH;AAEA,OAAO,SAASO,MAAMA,CAACP,GAAG,EAAE;EAC3B,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACU,MAAM,GAAG,EAAE,EAAE;;EAE7B;EACA;EACA,OAAOV,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACnBA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACdA,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IACdA,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IACbA,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,IACdA,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG,IACfA,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG,IACfA,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG,IACfA,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,IACdA,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG,IACfA,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,IACdA,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG;AACjB;AAEA,OAAO,SAASS,KAAKA,CAACT,GAAG,EAAE;EAC1B,IAAI,CAACA,GAAG,EAAE;EACV,OAAQA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI;AACjF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}