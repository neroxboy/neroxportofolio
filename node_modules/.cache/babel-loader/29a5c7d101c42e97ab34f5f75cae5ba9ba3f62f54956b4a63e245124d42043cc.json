{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SpeexParser = void 0;\nconst debug_1 = require(\"debug\");\nconst VorbisParser_1 = require(\"../vorbis/VorbisParser\");\nconst Speex = require(\"./Speex\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg:speex');\n/**\n * Speex, RFC 5574\n * Ref:\n * - https://www.speex.org/docs/manual/speex-manual/\n * - https://tools.ietf.org/html/rfc5574\n */\nclass SpeexParser extends VorbisParser_1.VorbisParser {\n  constructor(metadata, options, tokenizer) {\n    super(metadata, options);\n    this.tokenizer = tokenizer;\n  }\n  /**\n   * Parse first Speex Ogg page\n   * @param {IPageHeader} header\n   * @param {Buffer} pageData\n   */\n  parseFirstPage(header, pageData) {\n    debug('First Ogg/Speex page');\n    const speexHeader = Speex.Header.get(pageData, 0);\n    this.metadata.setFormat('codec', `Speex ${speexHeader.version}`);\n    this.metadata.setFormat('numberOfChannels', speexHeader.nb_channels);\n    this.metadata.setFormat('sampleRate', speexHeader.rate);\n    if (speexHeader.bitrate !== -1) {\n      this.metadata.setFormat('bitrate', speexHeader.bitrate);\n    }\n  }\n}\nexports.SpeexParser = SpeexParser;","map":{"version":3,"names":["Object","defineProperty","exports","value","SpeexParser","debug_1","require","VorbisParser_1","Speex","debug","default","VorbisParser","constructor","metadata","options","tokenizer","parseFirstPage","header","pageData","speexHeader","Header","get","setFormat","version","nb_channels","rate","bitrate"],"sources":["C:/Users/vanitas/node_modules/music-metadata/lib/ogg/speex/SpeexParser.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpeexParser = void 0;\nconst debug_1 = require(\"debug\");\nconst VorbisParser_1 = require(\"../vorbis/VorbisParser\");\nconst Speex = require(\"./Speex\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg:speex');\n/**\n * Speex, RFC 5574\n * Ref:\n * - https://www.speex.org/docs/manual/speex-manual/\n * - https://tools.ietf.org/html/rfc5574\n */\nclass SpeexParser extends VorbisParser_1.VorbisParser {\n    constructor(metadata, options, tokenizer) {\n        super(metadata, options);\n        this.tokenizer = tokenizer;\n    }\n    /**\n     * Parse first Speex Ogg page\n     * @param {IPageHeader} header\n     * @param {Buffer} pageData\n     */\n    parseFirstPage(header, pageData) {\n        debug('First Ogg/Speex page');\n        const speexHeader = Speex.Header.get(pageData, 0);\n        this.metadata.setFormat('codec', `Speex ${speexHeader.version}`);\n        this.metadata.setFormat('numberOfChannels', speexHeader.nb_channels);\n        this.metadata.setFormat('sampleRate', speexHeader.rate);\n        if (speexHeader.bitrate !== -1) {\n            this.metadata.setFormat('bitrate', speexHeader.bitrate);\n        }\n    }\n}\nexports.SpeexParser = SpeexParser;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,WAAW,GAAG,KAAK,CAAC;AAC5B,MAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,MAAMC,cAAc,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AACxD,MAAME,KAAK,GAAGF,OAAO,CAAC,SAAS,CAAC;AAChC,MAAMG,KAAK,GAAG,CAAC,CAAC,EAAEJ,OAAO,CAACK,OAAO,EAAE,iCAAiC,CAAC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,MAAMN,WAAW,SAASG,cAAc,CAACI,YAAY,CAAC;EAClDC,WAAWA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,SAAS,EAAE;IACtC,KAAK,CAACF,QAAQ,EAAEC,OAAO,CAAC;IACxB,IAAI,CAACC,SAAS,GAAGA,SAAS;EAC9B;EACA;AACJ;AACA;AACA;AACA;EACIC,cAAcA,CAACC,MAAM,EAAEC,QAAQ,EAAE;IAC7BT,KAAK,CAAC,sBAAsB,CAAC;IAC7B,MAAMU,WAAW,GAAGX,KAAK,CAACY,MAAM,CAACC,GAAG,CAACH,QAAQ,EAAE,CAAC,CAAC;IACjD,IAAI,CAACL,QAAQ,CAACS,SAAS,CAAC,OAAO,EAAE,SAASH,WAAW,CAACI,OAAO,EAAE,CAAC;IAChE,IAAI,CAACV,QAAQ,CAACS,SAAS,CAAC,kBAAkB,EAAEH,WAAW,CAACK,WAAW,CAAC;IACpE,IAAI,CAACX,QAAQ,CAACS,SAAS,CAAC,YAAY,EAAEH,WAAW,CAACM,IAAI,CAAC;IACvD,IAAIN,WAAW,CAACO,OAAO,KAAK,CAAC,CAAC,EAAE;MAC5B,IAAI,CAACb,QAAQ,CAACS,SAAS,CAAC,SAAS,EAAEH,WAAW,CAACO,OAAO,CAAC;IAC3D;EACJ;AACJ;AACAxB,OAAO,CAACE,WAAW,GAAGA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}