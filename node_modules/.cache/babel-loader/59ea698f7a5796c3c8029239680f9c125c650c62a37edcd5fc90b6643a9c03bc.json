{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CombinedTagMapper = void 0;\nconst ID3v1TagMap_1 = require(\"../id3v1/ID3v1TagMap\");\nconst ID3v24TagMapper_1 = require(\"../id3v2/ID3v24TagMapper\");\nconst AsfTagMapper_1 = require(\"../asf/AsfTagMapper\");\nconst ID3v22TagMapper_1 = require(\"../id3v2/ID3v22TagMapper\");\nconst APEv2TagMapper_1 = require(\"../apev2/APEv2TagMapper\");\nconst MP4TagMapper_1 = require(\"../mp4/MP4TagMapper\");\nconst VorbisTagMapper_1 = require(\"../ogg/vorbis/VorbisTagMapper\");\nconst RiffInfoTagMap_1 = require(\"../riff/RiffInfoTagMap\");\nconst MatroskaTagMapper_1 = require(\"../matroska/MatroskaTagMapper\");\nconst AiffTagMap_1 = require(\"../aiff/AiffTagMap\");\nclass CombinedTagMapper {\n  constructor() {\n    this.tagMappers = {};\n    [new ID3v1TagMap_1.ID3v1TagMapper(), new ID3v22TagMapper_1.ID3v22TagMapper(), new ID3v24TagMapper_1.ID3v24TagMapper(), new MP4TagMapper_1.MP4TagMapper(), new MP4TagMapper_1.MP4TagMapper(), new VorbisTagMapper_1.VorbisTagMapper(), new APEv2TagMapper_1.APEv2TagMapper(), new AsfTagMapper_1.AsfTagMapper(), new RiffInfoTagMap_1.RiffInfoTagMapper(), new MatroskaTagMapper_1.MatroskaTagMapper(), new AiffTagMap_1.AiffTagMapper()].forEach(mapper => {\n      this.registerTagMapper(mapper);\n    });\n  }\n  /**\n   * Convert native to generic (common) tags\n   * @param tagType Originating tag format\n   * @param tag     Native tag to map to a generic tag id\n   * @param warnings\n   * @return Generic tag result (output of this function)\n   */\n  mapTag(tagType, tag, warnings) {\n    const tagMapper = this.tagMappers[tagType];\n    if (tagMapper) {\n      return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n    }\n    throw new Error('No generic tag mapper defined for tag-format: ' + tagType);\n  }\n  registerTagMapper(genericTagMapper) {\n    for (const tagType of genericTagMapper.tagTypes) {\n      this.tagMappers[tagType] = genericTagMapper;\n    }\n  }\n}\nexports.CombinedTagMapper = CombinedTagMapper;","map":{"version":3,"names":["Object","defineProperty","exports","value","CombinedTagMapper","ID3v1TagMap_1","require","ID3v24TagMapper_1","AsfTagMapper_1","ID3v22TagMapper_1","APEv2TagMapper_1","MP4TagMapper_1","VorbisTagMapper_1","RiffInfoTagMap_1","MatroskaTagMapper_1","AiffTagMap_1","constructor","tagMappers","ID3v1TagMapper","ID3v22TagMapper","ID3v24TagMapper","MP4TagMapper","VorbisTagMapper","APEv2TagMapper","AsfTagMapper","RiffInfoTagMapper","MatroskaTagMapper","AiffTagMapper","forEach","mapper","registerTagMapper","mapTag","tagType","tag","warnings","tagMapper","mapGenericTag","Error","genericTagMapper","tagTypes"],"sources":["C:/Users/vanitas/node_modules/music-metadata/lib/common/CombinedTagMapper.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CombinedTagMapper = void 0;\nconst ID3v1TagMap_1 = require(\"../id3v1/ID3v1TagMap\");\nconst ID3v24TagMapper_1 = require(\"../id3v2/ID3v24TagMapper\");\nconst AsfTagMapper_1 = require(\"../asf/AsfTagMapper\");\nconst ID3v22TagMapper_1 = require(\"../id3v2/ID3v22TagMapper\");\nconst APEv2TagMapper_1 = require(\"../apev2/APEv2TagMapper\");\nconst MP4TagMapper_1 = require(\"../mp4/MP4TagMapper\");\nconst VorbisTagMapper_1 = require(\"../ogg/vorbis/VorbisTagMapper\");\nconst RiffInfoTagMap_1 = require(\"../riff/RiffInfoTagMap\");\nconst MatroskaTagMapper_1 = require(\"../matroska/MatroskaTagMapper\");\nconst AiffTagMap_1 = require(\"../aiff/AiffTagMap\");\nclass CombinedTagMapper {\n    constructor() {\n        this.tagMappers = {};\n        [\n            new ID3v1TagMap_1.ID3v1TagMapper(),\n            new ID3v22TagMapper_1.ID3v22TagMapper(),\n            new ID3v24TagMapper_1.ID3v24TagMapper(),\n            new MP4TagMapper_1.MP4TagMapper(),\n            new MP4TagMapper_1.MP4TagMapper(),\n            new VorbisTagMapper_1.VorbisTagMapper(),\n            new APEv2TagMapper_1.APEv2TagMapper(),\n            new AsfTagMapper_1.AsfTagMapper(),\n            new RiffInfoTagMap_1.RiffInfoTagMapper(),\n            new MatroskaTagMapper_1.MatroskaTagMapper(),\n            new AiffTagMap_1.AiffTagMapper()\n        ].forEach(mapper => {\n            this.registerTagMapper(mapper);\n        });\n    }\n    /**\n     * Convert native to generic (common) tags\n     * @param tagType Originating tag format\n     * @param tag     Native tag to map to a generic tag id\n     * @param warnings\n     * @return Generic tag result (output of this function)\n     */\n    mapTag(tagType, tag, warnings) {\n        const tagMapper = this.tagMappers[tagType];\n        if (tagMapper) {\n            return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n        }\n        throw new Error('No generic tag mapper defined for tag-format: ' + tagType);\n    }\n    registerTagMapper(genericTagMapper) {\n        for (const tagType of genericTagMapper.tagTypes) {\n            this.tagMappers[tagType] = genericTagMapper;\n        }\n    }\n}\nexports.CombinedTagMapper = CombinedTagMapper;\n//# sourceMappingURL=CombinedTagMapper.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,iBAAiB,GAAG,KAAK,CAAC;AAClC,MAAMC,aAAa,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AACrD,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,0BAA0B,CAAC;AAC7D,MAAME,cAAc,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AACrD,MAAMG,iBAAiB,GAAGH,OAAO,CAAC,0BAA0B,CAAC;AAC7D,MAAMI,gBAAgB,GAAGJ,OAAO,CAAC,yBAAyB,CAAC;AAC3D,MAAMK,cAAc,GAAGL,OAAO,CAAC,qBAAqB,CAAC;AACrD,MAAMM,iBAAiB,GAAGN,OAAO,CAAC,+BAA+B,CAAC;AAClE,MAAMO,gBAAgB,GAAGP,OAAO,CAAC,wBAAwB,CAAC;AAC1D,MAAMQ,mBAAmB,GAAGR,OAAO,CAAC,+BAA+B,CAAC;AACpE,MAAMS,YAAY,GAAGT,OAAO,CAAC,oBAAoB,CAAC;AAClD,MAAMF,iBAAiB,CAAC;EACpBY,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpB,CACI,IAAIZ,aAAa,CAACa,cAAc,CAAC,CAAC,EAClC,IAAIT,iBAAiB,CAACU,eAAe,CAAC,CAAC,EACvC,IAAIZ,iBAAiB,CAACa,eAAe,CAAC,CAAC,EACvC,IAAIT,cAAc,CAACU,YAAY,CAAC,CAAC,EACjC,IAAIV,cAAc,CAACU,YAAY,CAAC,CAAC,EACjC,IAAIT,iBAAiB,CAACU,eAAe,CAAC,CAAC,EACvC,IAAIZ,gBAAgB,CAACa,cAAc,CAAC,CAAC,EACrC,IAAIf,cAAc,CAACgB,YAAY,CAAC,CAAC,EACjC,IAAIX,gBAAgB,CAACY,iBAAiB,CAAC,CAAC,EACxC,IAAIX,mBAAmB,CAACY,iBAAiB,CAAC,CAAC,EAC3C,IAAIX,YAAY,CAACY,aAAa,CAAC,CAAC,CACnC,CAACC,OAAO,CAACC,MAAM,IAAI;MAChB,IAAI,CAACC,iBAAiB,CAACD,MAAM,CAAC;IAClC,CAAC,CAAC;EACN;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;EACIE,MAAMA,CAACC,OAAO,EAAEC,GAAG,EAAEC,QAAQ,EAAE;IAC3B,MAAMC,SAAS,GAAG,IAAI,CAAClB,UAAU,CAACe,OAAO,CAAC;IAC1C,IAAIG,SAAS,EAAE;MACX,OAAO,IAAI,CAAClB,UAAU,CAACe,OAAO,CAAC,CAACI,aAAa,CAACH,GAAG,EAAEC,QAAQ,CAAC;IAChE;IACA,MAAM,IAAIG,KAAK,CAAC,gDAAgD,GAAGL,OAAO,CAAC;EAC/E;EACAF,iBAAiBA,CAACQ,gBAAgB,EAAE;IAChC,KAAK,MAAMN,OAAO,IAAIM,gBAAgB,CAACC,QAAQ,EAAE;MAC7C,IAAI,CAACtB,UAAU,CAACe,OAAO,CAAC,GAAGM,gBAAgB;IAC/C;EACJ;AACJ;AACApC,OAAO,CAACE,iBAAiB,GAAGA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}