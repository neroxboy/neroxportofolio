{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VorbisTagMapper = void 0;\nconst GenericTagMapper_1 = require(\"../../common/GenericTagMapper\");\n/**\n * Vorbis tag mappings\n *\n * Mapping from native header format to one or possibly more 'common' entries\n * The common entries aim to read the same information from different media files\n * independent of the underlying format\n */\nconst vorbisTagMap = {\n  TITLE: 'title',\n  ARTIST: 'artist',\n  ARTISTS: 'artists',\n  ALBUMARTIST: 'albumartist',\n  'ALBUM ARTIST': 'albumartist',\n  ALBUM: 'album',\n  DATE: 'date',\n  ORIGINALDATE: 'originaldate',\n  ORIGINALYEAR: 'originalyear',\n  COMMENT: 'comment',\n  TRACKNUMBER: 'track',\n  DISCNUMBER: 'disk',\n  GENRE: 'genre',\n  METADATA_BLOCK_PICTURE: 'picture',\n  COMPOSER: 'composer',\n  LYRICS: 'lyrics',\n  ALBUMSORT: 'albumsort',\n  TITLESORT: 'titlesort',\n  WORK: 'work',\n  ARTISTSORT: 'artistsort',\n  ALBUMARTISTSORT: 'albumartistsort',\n  COMPOSERSORT: 'composersort',\n  LYRICIST: 'lyricist',\n  WRITER: 'writer',\n  CONDUCTOR: 'conductor',\n  // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\n  REMIXER: 'remixer',\n  ARRANGER: 'arranger',\n  ENGINEER: 'engineer',\n  PRODUCER: 'producer',\n  DJMIXER: 'djmixer',\n  MIXER: 'mixer',\n  LABEL: 'label',\n  GROUPING: 'grouping',\n  SUBTITLE: 'subtitle',\n  DISCSUBTITLE: 'discsubtitle',\n  TRACKTOTAL: 'totaltracks',\n  DISCTOTAL: 'totaldiscs',\n  COMPILATION: 'compilation',\n  RATING: 'rating',\n  BPM: 'bpm',\n  KEY: 'key',\n  MOOD: 'mood',\n  MEDIA: 'media',\n  CATALOGNUMBER: 'catalognumber',\n  RELEASESTATUS: 'releasestatus',\n  RELEASETYPE: 'releasetype',\n  RELEASECOUNTRY: 'releasecountry',\n  SCRIPT: 'script',\n  LANGUAGE: 'language',\n  COPYRIGHT: 'copyright',\n  LICENSE: 'license',\n  ENCODEDBY: 'encodedby',\n  ENCODERSETTINGS: 'encodersettings',\n  BARCODE: 'barcode',\n  ISRC: 'isrc',\n  ASIN: 'asin',\n  MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n  MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n  MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n  MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n  MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n  MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n  MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n  MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n  MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n  ACOUSTID_ID: 'acoustid_id',\n  ACOUSTID_ID_FINGERPRINT: 'acoustid_fingerprint',\n  MUSICIP_PUID: 'musicip_puid',\n  // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\n  WEBSITE: 'website',\n  NOTES: 'notes',\n  TOTALTRACKS: 'totaltracks',\n  TOTALDISCS: 'totaldiscs',\n  // Discogs\n  DISCOGS_ARTIST_ID: 'discogs_artist_id',\n  DISCOGS_ARTISTS: 'artists',\n  DISCOGS_ARTIST_NAME: 'artists',\n  DISCOGS_ALBUM_ARTISTS: 'albumartist',\n  DISCOGS_CATALOG: 'catalognumber',\n  DISCOGS_COUNTRY: 'releasecountry',\n  DISCOGS_DATE: 'originaldate',\n  DISCOGS_LABEL: 'label',\n  DISCOGS_LABEL_ID: 'discogs_label_id',\n  DISCOGS_MASTER_RELEASE_ID: 'discogs_master_release_id',\n  DISCOGS_RATING: 'discogs_rating',\n  DISCOGS_RELEASED: 'date',\n  DISCOGS_RELEASE_ID: 'discogs_release_id',\n  DISCOGS_VOTES: 'discogs_votes',\n  CATALOGID: 'catalognumber',\n  STYLE: 'genre',\n  //\n  REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n  REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n  REPLAYGAIN_ALBUM_GAIN: 'replaygain_album_gain',\n  REPLAYGAIN_ALBUM_PEAK: 'replaygain_album_peak',\n  // To Sure if these (REPLAYGAIN_MINMAX, REPLAYGAIN_ALBUM_MINMAX & REPLAYGAIN_UNDO) are used for Vorbis:\n  REPLAYGAIN_MINMAX: 'replaygain_track_minmax',\n  REPLAYGAIN_ALBUM_MINMAX: 'replaygain_album_minmax',\n  REPLAYGAIN_UNDO: 'replaygain_undo'\n};\nclass VorbisTagMapper extends GenericTagMapper_1.CommonTagMapper {\n  static toRating(email, rating, maxScore) {\n    return {\n      source: email ? email.toLowerCase() : email,\n      rating: parseFloat(rating) / maxScore * GenericTagMapper_1.CommonTagMapper.maxRatingScore\n    };\n  }\n  constructor() {\n    super(['vorbis'], vorbisTagMap);\n  }\n  postMap(tag) {\n    if (tag.id === 'RATING') {\n      // The way Winamp 5.666 assigns rating\n      tag.value = VorbisTagMapper.toRating(undefined, tag.value, 100);\n    } else if (tag.id.indexOf('RATING:') === 0) {\n      const keys = tag.id.split(':');\n      tag.value = VorbisTagMapper.toRating(keys[1], tag.value, 1);\n      tag.id = keys[0];\n    }\n  }\n}\nexports.VorbisTagMapper = VorbisTagMapper;","map":{"version":3,"names":["Object","defineProperty","exports","value","VorbisTagMapper","GenericTagMapper_1","require","vorbisTagMap","TITLE","ARTIST","ARTISTS","ALBUMARTIST","ALBUM","DATE","ORIGINALDATE","ORIGINALYEAR","COMMENT","TRACKNUMBER","DISCNUMBER","GENRE","METADATA_BLOCK_PICTURE","COMPOSER","LYRICS","ALBUMSORT","TITLESORT","WORK","ARTISTSORT","ALBUMARTISTSORT","COMPOSERSORT","LYRICIST","WRITER","CONDUCTOR","REMIXER","ARRANGER","ENGINEER","PRODUCER","DJMIXER","MIXER","LABEL","GROUPING","SUBTITLE","DISCSUBTITLE","TRACKTOTAL","DISCTOTAL","COMPILATION","RATING","BPM","KEY","MOOD","MEDIA","CATALOGNUMBER","RELEASESTATUS","RELEASETYPE","RELEASECOUNTRY","SCRIPT","LANGUAGE","COPYRIGHT","LICENSE","ENCODEDBY","ENCODERSETTINGS","BARCODE","ISRC","ASIN","MUSICBRAINZ_TRACKID","MUSICBRAINZ_RELEASETRACKID","MUSICBRAINZ_ALBUMID","MUSICBRAINZ_ARTISTID","MUSICBRAINZ_ALBUMARTISTID","MUSICBRAINZ_RELEASEGROUPID","MUSICBRAINZ_WORKID","MUSICBRAINZ_TRMID","MUSICBRAINZ_DISCID","ACOUSTID_ID","ACOUSTID_ID_FINGERPRINT","MUSICIP_PUID","WEBSITE","NOTES","TOTALTRACKS","TOTALDISCS","DISCOGS_ARTIST_ID","DISCOGS_ARTISTS","DISCOGS_ARTIST_NAME","DISCOGS_ALBUM_ARTISTS","DISCOGS_CATALOG","DISCOGS_COUNTRY","DISCOGS_DATE","DISCOGS_LABEL","DISCOGS_LABEL_ID","DISCOGS_MASTER_RELEASE_ID","DISCOGS_RATING","DISCOGS_RELEASED","DISCOGS_RELEASE_ID","DISCOGS_VOTES","CATALOGID","STYLE","REPLAYGAIN_TRACK_GAIN","REPLAYGAIN_TRACK_PEAK","REPLAYGAIN_ALBUM_GAIN","REPLAYGAIN_ALBUM_PEAK","REPLAYGAIN_MINMAX","REPLAYGAIN_ALBUM_MINMAX","REPLAYGAIN_UNDO","CommonTagMapper","toRating","email","rating","maxScore","source","toLowerCase","parseFloat","maxRatingScore","constructor","postMap","tag","id","undefined","indexOf","keys","split"],"sources":["C:/Users/vanitas/node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VorbisTagMapper = void 0;\nconst GenericTagMapper_1 = require(\"../../common/GenericTagMapper\");\n/**\n * Vorbis tag mappings\n *\n * Mapping from native header format to one or possibly more 'common' entries\n * The common entries aim to read the same information from different media files\n * independent of the underlying format\n */\nconst vorbisTagMap = {\n    TITLE: 'title',\n    ARTIST: 'artist',\n    ARTISTS: 'artists',\n    ALBUMARTIST: 'albumartist',\n    'ALBUM ARTIST': 'albumartist',\n    ALBUM: 'album',\n    DATE: 'date',\n    ORIGINALDATE: 'originaldate',\n    ORIGINALYEAR: 'originalyear',\n    COMMENT: 'comment',\n    TRACKNUMBER: 'track',\n    DISCNUMBER: 'disk',\n    GENRE: 'genre',\n    METADATA_BLOCK_PICTURE: 'picture',\n    COMPOSER: 'composer',\n    LYRICS: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    LYRICIST: 'lyricist',\n    WRITER: 'writer',\n    CONDUCTOR: 'conductor',\n    // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\n    REMIXER: 'remixer',\n    ARRANGER: 'arranger',\n    ENGINEER: 'engineer',\n    PRODUCER: 'producer',\n    DJMIXER: 'djmixer',\n    MIXER: 'mixer',\n    LABEL: 'label',\n    GROUPING: 'grouping',\n    SUBTITLE: 'subtitle',\n    DISCSUBTITLE: 'discsubtitle',\n    TRACKTOTAL: 'totaltracks',\n    DISCTOTAL: 'totaldiscs',\n    COMPILATION: 'compilation',\n    RATING: 'rating',\n    BPM: 'bpm',\n    KEY: 'key',\n    MOOD: 'mood',\n    MEDIA: 'media',\n    CATALOGNUMBER: 'catalognumber',\n    RELEASESTATUS: 'releasestatus',\n    RELEASETYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    SCRIPT: 'script',\n    LANGUAGE: 'language',\n    COPYRIGHT: 'copyright',\n    LICENSE: 'license',\n    ENCODEDBY: 'encodedby',\n    ENCODERSETTINGS: 'encodersettings',\n    BARCODE: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    ACOUSTID_ID: 'acoustid_id',\n    ACOUSTID_ID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\n    WEBSITE: 'website',\n    NOTES: 'notes',\n    TOTALTRACKS: 'totaltracks',\n    TOTALDISCS: 'totaldiscs',\n    // Discogs\n    DISCOGS_ARTIST_ID: 'discogs_artist_id',\n    DISCOGS_ARTISTS: 'artists',\n    DISCOGS_ARTIST_NAME: 'artists',\n    DISCOGS_ALBUM_ARTISTS: 'albumartist',\n    DISCOGS_CATALOG: 'catalognumber',\n    DISCOGS_COUNTRY: 'releasecountry',\n    DISCOGS_DATE: 'originaldate',\n    DISCOGS_LABEL: 'label',\n    DISCOGS_LABEL_ID: 'discogs_label_id',\n    DISCOGS_MASTER_RELEASE_ID: 'discogs_master_release_id',\n    DISCOGS_RATING: 'discogs_rating',\n    DISCOGS_RELEASED: 'date',\n    DISCOGS_RELEASE_ID: 'discogs_release_id',\n    DISCOGS_VOTES: 'discogs_votes',\n    CATALOGID: 'catalognumber',\n    STYLE: 'genre',\n    //\n    REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n    REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n    REPLAYGAIN_ALBUM_GAIN: 'replaygain_album_gain',\n    REPLAYGAIN_ALBUM_PEAK: 'replaygain_album_peak',\n    // To Sure if these (REPLAYGAIN_MINMAX, REPLAYGAIN_ALBUM_MINMAX & REPLAYGAIN_UNDO) are used for Vorbis:\n    REPLAYGAIN_MINMAX: 'replaygain_track_minmax',\n    REPLAYGAIN_ALBUM_MINMAX: 'replaygain_album_minmax',\n    REPLAYGAIN_UNDO: 'replaygain_undo'\n};\nclass VorbisTagMapper extends GenericTagMapper_1.CommonTagMapper {\n    static toRating(email, rating, maxScore) {\n        return {\n            source: email ? email.toLowerCase() : email,\n            rating: (parseFloat(rating) / maxScore) * GenericTagMapper_1.CommonTagMapper.maxRatingScore\n        };\n    }\n    constructor() {\n        super(['vorbis'], vorbisTagMap);\n    }\n    postMap(tag) {\n        if (tag.id === 'RATING') {\n            // The way Winamp 5.666 assigns rating\n            tag.value = VorbisTagMapper.toRating(undefined, tag.value, 100);\n        }\n        else if (tag.id.indexOf('RATING:') === 0) {\n            const keys = tag.id.split(':');\n            tag.value = VorbisTagMapper.toRating(keys[1], tag.value, 1);\n            tag.id = keys[0];\n        }\n    }\n}\nexports.VorbisTagMapper = VorbisTagMapper;\n//# sourceMappingURL=VorbisTagMapper.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}