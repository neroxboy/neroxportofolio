{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{v4 as uuidv4}from'uuid';import{Fullname,ownernumber}from'./settings';// Adjusted import path\n// Konstanta\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SYSTEM_PROMPT={role:\"system\",content:\"Kamu adalah \".concat(Fullname,\" \\uD83C\\uDF1F, asisten cerdas dari NEROXOFFC. Versi 1.0. Tugasmu adalah memberikan jawaban yang selalu berbeda untuk setiap pengguna, meskipun pertanyaannya sama. Jangan lupa untuk menggunakan penebalan pada poin penting dan menyebut nama pengguna jika tersedia. Jaga setiap interaksi tetap segar dan unik!, dan jika bertanya soal owner kamu \").concat(ownernumber,\" adalah nomornya, dan pencipta asli kamu adalah Nerox.\")};const DEBUG=true;// Fungsi Utilitas\nfunction formatResponse(response){if(!response)return\"Maaf, saya tidak dapat memberikan jawaban saat ini.\";response=response.replace(/Generated by BLACKBOX\\.AI, try unlimited chat https:\\/\\/www\\.blackbox\\.ai/g,'');return response.trim().replace(/\\*\\*([^\\*]+)\\*\\*/g,\"*$1*\");}// Fungsi Utama Chat\nasync function chat(userMessage,sessionHistory){const body={messages:[SYSTEM_PROMPT,...sessionHistory,{content:userMessage,role:\"user\"}],agentMode:\"gpt-4o\",clickedAnswer2:false,clickedAnswer3:false,codeModelMode:true,githubToken:null,isChromeExt:false,isMicMode:false,previewToken:true,trendingAgentMode:{},visitFromDelta:null};const headers={'Content-Type':'application/json','X-Model':'gpt-4o'};let attempts=0;while(true){try{attempts++;if(DEBUG)console.log(\"Percobaan ke-\".concat(attempts));const response=await axios.post('https://api.blackbox.ai/api/chat',body,{headers});if(response.data){if(DEBUG)console.log(\"Respons API diterima:\",response.data);return formatResponse(response.data.replace(/(\\$\\@\\$.*?\\$\\@\\$)/g,''));}}catch(error){if(DEBUG)console.error(\"Mohon maaf ada kesalahan ke-\".concat(attempts,\":\"),error.message);}}}const ChatRoom=()=>{const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const handleSendMessage=async()=>{if(!input.trim())return;const userMessage=input.trim();setMessages([...messages,{role:'user',content:userMessage}]);setInput('');const session={history:[SYSTEM_PROMPT,...messages]};const response=await chat(userMessage,session.history);setMessages([...messages,{role:'user',content:userMessage},{role:'assistant',content:response}]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-room\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"messages\",children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(msg.role),children:msg.content},index))}),/*#__PURE__*/_jsx(\"textarea\",{value:input,onChange:e=>setInput(e.target.value),placeholder:\"Ketik pesan Anda di sini...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,children:\"Kirim\"})]});};export default ChatRoom;// Fungsi Auto Reply AI\nconst autoReplySky=async(m,skybreaker)=>{try{const userMessage=m.text;const sessionId=m.sender||uuidv4();const session={history:[SYSTEM_PROMPT]};const response=await chat(userMessage,session.history);// Use skybreaker.sendMessage directly\nawait skybreaker.sendMessage(m.chat,{text:response,quoted:m},{ephemeral:false});session.history.push({role:\"user\",content:userMessage});session.history.push({role:\"assistant\",content:response});}catch(error){console.error(\"Error saat memproses Auto Reply AI:\",error.message);}};// Fungsi Utama Module\nmodule.exports={autoAI:async function(m,args){const userMessage=m.text;if(!userMessage||/^[.$/#@$]/.test(userMessage))return false;await autoReplySky(m);},autoReplySky,chat};","map":{"version":3,"names":["React","useState","axios","v4","uuidv4","Fullname","ownernumber","jsx","_jsx","jsxs","_jsxs","SYSTEM_PROMPT","role","content","concat","DEBUG","formatResponse","response","replace","trim","chat","userMessage","sessionHistory","body","messages","agentMode","clickedAnswer2","clickedAnswer3","codeModelMode","githubToken","isChromeExt","isMicMode","previewToken","trendingAgentMode","visitFromDelta","headers","attempts","console","log","post","data","error","message","ChatRoom","setMessages","input","setInput","handleSendMessage","session","history","className","children","map","msg","index","value","onChange","e","target","placeholder","onClick","autoReplySky","m","skybreaker","text","sessionId","sender","sendMessage","quoted","ephemeral","push","module","exports","autoAI","args","test"],"sources":["C:/Users/vanitas/Downloads/tesskil/src/ChatRoom.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Fullname, ownernumber } from './settings'; // Adjusted import path\r\n\r\n// Konstanta\r\nconst SYSTEM_PROMPT = {\r\n    role: \"system\",\r\n    content: `Kamu adalah ${Fullname} ðŸŒŸ, asisten cerdas dari NEROXOFFC. Versi 1.0. Tugasmu adalah memberikan jawaban yang selalu berbeda untuk setiap pengguna, meskipun pertanyaannya sama. Jangan lupa untuk menggunakan penebalan pada poin penting dan menyebut nama pengguna jika tersedia. Jaga setiap interaksi tetap segar dan unik!, dan jika bertanya soal owner kamu ${ownernumber} adalah nomornya, dan pencipta asli kamu adalah Nerox.`\r\n};\r\nconst DEBUG = true;\r\n\r\n// Fungsi Utilitas\r\nfunction formatResponse(response) {\r\n    if (!response) return \"Maaf, saya tidak dapat memberikan jawaban saat ini.\";\r\n    response = response.replace(/Generated by BLACKBOX\\.AI, try unlimited chat https:\\/\\/www\\.blackbox\\.ai/g, '');\r\n    return response.trim().replace(/\\*\\*([^\\*]+)\\*\\*/g, \"*$1*\");\r\n}\r\n\r\n// Fungsi Utama Chat\r\nasync function chat(userMessage, sessionHistory) {\r\n    const body = {\r\n        messages: [\r\n            SYSTEM_PROMPT,\r\n            ...sessionHistory,\r\n            { content: userMessage, role: \"user\" }\r\n        ],\r\n        agentMode: \"gpt-4o\",\r\n        clickedAnswer2: false,\r\n        clickedAnswer3: false,\r\n        codeModelMode: true,\r\n        githubToken: null,\r\n        isChromeExt: false,\r\n        isMicMode: false,\r\n        previewToken: true,\r\n        trendingAgentMode: {},\r\n        visitFromDelta: null\r\n    };\r\n\r\n    const headers = {\r\n        'Content-Type': 'application/json',\r\n        'X-Model': 'gpt-4o'\r\n    };\r\n\r\n    let attempts = 0;\r\n    while (true) {\r\n        try {\r\n            attempts++;\r\n            if (DEBUG) console.log(`Percobaan ke-${attempts}`);\r\n\r\n            const response = await axios.post('https://api.blackbox.ai/api/chat', body, { headers });\r\n            if (response.data) {\r\n                if (DEBUG) console.log(\"Respons API diterima:\", response.data);\r\n                return formatResponse(response.data.replace(/(\\$\\@\\$.*?\\$\\@\\$)/g, ''));\r\n            }\r\n        } catch (error) {\r\n            if (DEBUG) console.error(`Mohon maaf ada kesalahan ke-${attempts}:`, error.message);\r\n        }\r\n    }\r\n}\r\n\r\nconst ChatRoom = () => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState('');\r\n\r\n    const handleSendMessage = async () => {\r\n        if (!input.trim()) return;\r\n\r\n        const userMessage = input.trim();\r\n        setMessages([...messages, { role: 'user', content: userMessage }]);\r\n        setInput('');\r\n\r\n        const session = { history: [SYSTEM_PROMPT, ...messages] };\r\n        const response = await chat(userMessage, session.history);\r\n\r\n        setMessages([...messages, { role: 'user', content: userMessage }, { role: 'assistant', content: response }]);\r\n    };\r\n\r\n    return (\r\n        <div className=\"chat-room\">\r\n            <div className=\"messages\">\r\n                {messages.map((msg, index) => (\r\n                    <div key={index} className={`message ${msg.role}`}>\r\n                        {msg.content}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <textarea\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                placeholder=\"Ketik pesan Anda di sini...\"\r\n            ></textarea>\r\n            <button onClick={handleSendMessage}>Kirim</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatRoom;\r\n\r\n// Fungsi Auto Reply AI\r\nconst autoReplySky = async (m, skybreaker) => {\r\n    try {\r\n        const userMessage = m.text;\r\n        const sessionId = m.sender || uuidv4();\r\n\r\n        const session = { history: [SYSTEM_PROMPT] };\r\n\r\n        const response = await chat(userMessage, session.history);\r\n\r\n        // Use skybreaker.sendMessage directly\r\n        await skybreaker.sendMessage(m.chat, {\r\n            text: response,\r\n            quoted: m\r\n        }, { ephemeral: false });\r\n\r\n        session.history.push({ role: \"user\", content: userMessage });\r\n        session.history.push({ role: \"assistant\", content: response });\r\n    } catch (error) {\r\n        console.error(\"Error saat memproses Auto Reply AI:\", error.message);\r\n    }\r\n};\r\n\r\n// Fungsi Utama Module\r\nmodule.exports = {\r\n    autoAI: async function (m, args) {\r\n        const userMessage = m.text;\r\n\r\n        if (!userMessage || /^[.$/#@$]/.test(userMessage)) return false;\r\n\r\n        await autoReplySky(m);\r\n    },\r\n    autoReplySky,\r\n    chat\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}