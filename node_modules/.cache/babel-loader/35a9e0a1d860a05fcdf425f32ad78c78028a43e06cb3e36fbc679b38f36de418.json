{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebSocketClient = void 0;\nconst ws_1 = __importDefault(require(\"ws\"));\nconst Defaults_1 = require(\"../../Defaults\");\nconst abstract_socket_client_1 = require(\"./abstract-socket-client\");\nclass WebSocketClient extends abstract_socket_client_1.AbstractSocketClient {\n  constructor() {\n    super(...arguments);\n    this.socket = null;\n  }\n  get isOpen() {\n    var _a;\n    return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.OPEN;\n  }\n  get isClosed() {\n    var _a;\n    return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.CLOSED;\n  }\n  get isClosing() {\n    var _a;\n    return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.CLOSING;\n  }\n  get isConnecting() {\n    var _a;\n    return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.CONNECTING;\n  }\n  async connect() {\n    var _a, _b;\n    if (this.socket) {\n      return;\n    }\n    this.socket = new ws_1.default(this.url, {\n      origin: Defaults_1.DEFAULT_ORIGIN,\n      headers: (_a = this.config.options) === null || _a === void 0 ? void 0 : _a.headers,\n      handshakeTimeout: this.config.connectTimeoutMs,\n      timeout: this.config.connectTimeoutMs,\n      agent: this.config.agent\n    });\n    this.socket.setMaxListeners(0);\n    const events = ['close', 'error', 'upgrade', 'message', 'open', 'ping', 'pong', 'unexpected-response'];\n    for (const event of events) {\n      (_b = this.socket) === null || _b === void 0 ? void 0 : _b.on(event, (...args) => this.emit(event, ...args));\n    }\n  }\n  async close() {\n    if (!this.socket) {\n      return;\n    }\n    this.socket.close();\n    this.socket = null;\n  }\n  send(str, cb) {\n    var _a;\n    (_a = this.socket) === null || _a === void 0 ? void 0 : _a.send(str, cb);\n    return Boolean(this.socket);\n  }\n}\nexports.WebSocketClient = WebSocketClient;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","WebSocketClient","ws_1","require","Defaults_1","abstract_socket_client_1","AbstractSocketClient","constructor","arguments","socket","isOpen","_a","readyState","default","OPEN","isClosed","CLOSED","isClosing","CLOSING","isConnecting","CONNECTING","connect","_b","url","origin","DEFAULT_ORIGIN","headers","config","options","handshakeTimeout","connectTimeoutMs","timeout","agent","setMaxListeners","events","event","on","args","emit","close","send","str","cb","Boolean"],"sources":["C:/Users/vanitas/node_modules/@whiskeysockets/baileys/lib/Socket/Client/web-socket-client.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebSocketClient = void 0;\nconst ws_1 = __importDefault(require(\"ws\"));\nconst Defaults_1 = require(\"../../Defaults\");\nconst abstract_socket_client_1 = require(\"./abstract-socket-client\");\nclass WebSocketClient extends abstract_socket_client_1.AbstractSocketClient {\n    constructor() {\n        super(...arguments);\n        this.socket = null;\n    }\n    get isOpen() {\n        var _a;\n        return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.OPEN;\n    }\n    get isClosed() {\n        var _a;\n        return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.CLOSED;\n    }\n    get isClosing() {\n        var _a;\n        return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.CLOSING;\n    }\n    get isConnecting() {\n        var _a;\n        return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === ws_1.default.CONNECTING;\n    }\n    async connect() {\n        var _a, _b;\n        if (this.socket) {\n            return;\n        }\n        this.socket = new ws_1.default(this.url, {\n            origin: Defaults_1.DEFAULT_ORIGIN,\n            headers: (_a = this.config.options) === null || _a === void 0 ? void 0 : _a.headers,\n            handshakeTimeout: this.config.connectTimeoutMs,\n            timeout: this.config.connectTimeoutMs,\n            agent: this.config.agent,\n        });\n        this.socket.setMaxListeners(0);\n        const events = ['close', 'error', 'upgrade', 'message', 'open', 'ping', 'pong', 'unexpected-response'];\n        for (const event of events) {\n            (_b = this.socket) === null || _b === void 0 ? void 0 : _b.on(event, (...args) => this.emit(event, ...args));\n        }\n    }\n    async close() {\n        if (!this.socket) {\n            return;\n        }\n        this.socket.close();\n        this.socket = null;\n    }\n    send(str, cb) {\n        var _a;\n        (_a = this.socket) === null || _a === void 0 ? void 0 : _a.send(str, cb);\n        return Boolean(this.socket);\n    }\n}\nexports.WebSocketClient = WebSocketClient;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}