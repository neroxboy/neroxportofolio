{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MobileSocketClient = void 0;\nconst net_1 = require(\"net\");\nconst abstract_socket_client_1 = require(\"./abstract-socket-client\");\nclass MobileSocketClient extends abstract_socket_client_1.AbstractSocketClient {\n  constructor() {\n    super(...arguments);\n    this.socket = null;\n  }\n  get isOpen() {\n    var _a;\n    return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'open';\n  }\n  get isClosed() {\n    var _a;\n    return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'closed';\n  }\n  get isClosing() {\n    var _a;\n    return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'closed';\n  }\n  get isConnecting() {\n    var _a;\n    return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'opening';\n  }\n  async connect() {\n    var _a;\n    if (this.socket) {\n      return;\n    }\n    if (this.config.agent) {\n      throw new Error('There are not support for proxy agent for mobile connection');\n    } else {\n      this.socket = (0, net_1.connect)({\n        host: this.url.hostname,\n        port: Number(this.url.port) || 443\n      });\n    }\n    this.socket.setMaxListeners(0);\n    const events = ['close', 'connect', 'data', 'drain', 'end', 'error', 'lookup', 'ready', 'timeout'];\n    for (const event of events) {\n      (_a = this.socket) === null || _a === void 0 ? void 0 : _a.on(event, (...args) => this.emit(event, ...args));\n    }\n    this.socket.on('data', (...args) => this.emit('message', ...args));\n    this.socket.on('ready', (...args) => this.emit('open', ...args));\n  }\n  async close() {\n    if (!this.socket) {\n      return;\n    }\n    return new Promise(resolve => {\n      this.socket.end(resolve);\n      this.socket = null;\n    });\n  }\n  send(str, cb) {\n    if (this.socket === null) {\n      return false;\n    }\n    return this.socket.write(str, undefined, cb);\n  }\n}\nexports.MobileSocketClient = MobileSocketClient;","map":{"version":3,"names":["Object","defineProperty","exports","value","MobileSocketClient","net_1","require","abstract_socket_client_1","AbstractSocketClient","constructor","arguments","socket","isOpen","_a","readyState","isClosed","isClosing","isConnecting","connect","config","agent","Error","host","url","hostname","port","Number","setMaxListeners","events","event","on","args","emit","close","Promise","resolve","end","send","str","cb","write","undefined"],"sources":["C:/Users/vanitas/node_modules/@whiskeysockets/baileys/lib/Socket/Client/mobile-socket-client.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MobileSocketClient = void 0;\nconst net_1 = require(\"net\");\nconst abstract_socket_client_1 = require(\"./abstract-socket-client\");\nclass MobileSocketClient extends abstract_socket_client_1.AbstractSocketClient {\n    constructor() {\n        super(...arguments);\n        this.socket = null;\n    }\n    get isOpen() {\n        var _a;\n        return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'open';\n    }\n    get isClosed() {\n        var _a;\n        return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'closed';\n    }\n    get isClosing() {\n        var _a;\n        return this.socket === null || ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'closed';\n    }\n    get isConnecting() {\n        var _a;\n        return ((_a = this.socket) === null || _a === void 0 ? void 0 : _a.readyState) === 'opening';\n    }\n    async connect() {\n        var _a;\n        if (this.socket) {\n            return;\n        }\n        if (this.config.agent) {\n            throw new Error('There are not support for proxy agent for mobile connection');\n        }\n        else {\n            this.socket = (0, net_1.connect)({\n                host: this.url.hostname,\n                port: Number(this.url.port) || 443\n            });\n        }\n        this.socket.setMaxListeners(0);\n        const events = ['close', 'connect', 'data', 'drain', 'end', 'error', 'lookup', 'ready', 'timeout'];\n        for (const event of events) {\n            (_a = this.socket) === null || _a === void 0 ? void 0 : _a.on(event, (...args) => this.emit(event, ...args));\n        }\n        this.socket.on('data', (...args) => this.emit('message', ...args));\n        this.socket.on('ready', (...args) => this.emit('open', ...args));\n    }\n    async close() {\n        if (!this.socket) {\n            return;\n        }\n        return new Promise(resolve => {\n            this.socket.end(resolve);\n            this.socket = null;\n        });\n    }\n    send(str, cb) {\n        if (this.socket === null) {\n            return false;\n        }\n        return this.socket.write(str, undefined, cb);\n    }\n}\nexports.MobileSocketClient = MobileSocketClient;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,kBAAkB,GAAG,KAAK,CAAC;AACnC,MAAMC,KAAK,GAAGC,OAAO,CAAC,KAAK,CAAC;AAC5B,MAAMC,wBAAwB,GAAGD,OAAO,CAAC,0BAA0B,CAAC;AACpE,MAAMF,kBAAkB,SAASG,wBAAwB,CAACC,oBAAoB,CAAC;EAC3EC,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAGC,SAAS,CAAC;IACnB,IAAI,CAACC,MAAM,GAAG,IAAI;EACtB;EACA,IAAIC,MAAMA,CAAA,EAAG;IACT,IAAIC,EAAE;IACN,OAAO,CAAC,CAACA,EAAE,GAAG,IAAI,CAACF,MAAM,MAAM,IAAI,IAAIE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,UAAU,MAAM,MAAM;EAC7F;EACA,IAAIC,QAAQA,CAAA,EAAG;IACX,IAAIF,EAAE;IACN,OAAO,IAAI,CAACF,MAAM,KAAK,IAAI,IAAI,CAAC,CAACE,EAAE,GAAG,IAAI,CAACF,MAAM,MAAM,IAAI,IAAIE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,UAAU,MAAM,QAAQ;EACvH;EACA,IAAIE,SAASA,CAAA,EAAG;IACZ,IAAIH,EAAE;IACN,OAAO,IAAI,CAACF,MAAM,KAAK,IAAI,IAAI,CAAC,CAACE,EAAE,GAAG,IAAI,CAACF,MAAM,MAAM,IAAI,IAAIE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,UAAU,MAAM,QAAQ;EACvH;EACA,IAAIG,YAAYA,CAAA,EAAG;IACf,IAAIJ,EAAE;IACN,OAAO,CAAC,CAACA,EAAE,GAAG,IAAI,CAACF,MAAM,MAAM,IAAI,IAAIE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,UAAU,MAAM,SAAS;EAChG;EACA,MAAMI,OAAOA,CAAA,EAAG;IACZ,IAAIL,EAAE;IACN,IAAI,IAAI,CAACF,MAAM,EAAE;MACb;IACJ;IACA,IAAI,IAAI,CAACQ,MAAM,CAACC,KAAK,EAAE;MACnB,MAAM,IAAIC,KAAK,CAAC,6DAA6D,CAAC;IAClF,CAAC,MACI;MACD,IAAI,CAACV,MAAM,GAAG,CAAC,CAAC,EAAEN,KAAK,CAACa,OAAO,EAAE;QAC7BI,IAAI,EAAE,IAAI,CAACC,GAAG,CAACC,QAAQ;QACvBC,IAAI,EAAEC,MAAM,CAAC,IAAI,CAACH,GAAG,CAACE,IAAI,CAAC,IAAI;MACnC,CAAC,CAAC;IACN;IACA,IAAI,CAACd,MAAM,CAACgB,eAAe,CAAC,CAAC,CAAC;IAC9B,MAAMC,MAAM,GAAG,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC;IAClG,KAAK,MAAMC,KAAK,IAAID,MAAM,EAAE;MACxB,CAACf,EAAE,GAAG,IAAI,CAACF,MAAM,MAAM,IAAI,IAAIE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiB,EAAE,CAACD,KAAK,EAAE,CAAC,GAAGE,IAAI,KAAK,IAAI,CAACC,IAAI,CAACH,KAAK,EAAE,GAAGE,IAAI,CAAC,CAAC;IAChH;IACA,IAAI,CAACpB,MAAM,CAACmB,EAAE,CAAC,MAAM,EAAE,CAAC,GAAGC,IAAI,KAAK,IAAI,CAACC,IAAI,CAAC,SAAS,EAAE,GAAGD,IAAI,CAAC,CAAC;IAClE,IAAI,CAACpB,MAAM,CAACmB,EAAE,CAAC,OAAO,EAAE,CAAC,GAAGC,IAAI,KAAK,IAAI,CAACC,IAAI,CAAC,MAAM,EAAE,GAAGD,IAAI,CAAC,CAAC;EACpE;EACA,MAAME,KAAKA,CAAA,EAAG;IACV,IAAI,CAAC,IAAI,CAACtB,MAAM,EAAE;MACd;IACJ;IACA,OAAO,IAAIuB,OAAO,CAACC,OAAO,IAAI;MAC1B,IAAI,CAACxB,MAAM,CAACyB,GAAG,CAACD,OAAO,CAAC;MACxB,IAAI,CAACxB,MAAM,GAAG,IAAI;IACtB,CAAC,CAAC;EACN;EACA0B,IAAIA,CAACC,GAAG,EAAEC,EAAE,EAAE;IACV,IAAI,IAAI,CAAC5B,MAAM,KAAK,IAAI,EAAE;MACtB,OAAO,KAAK;IAChB;IACA,OAAO,IAAI,CAACA,MAAM,CAAC6B,KAAK,CAACF,GAAG,EAAEG,SAAS,EAAEF,EAAE,CAAC;EAChD;AACJ;AACArC,OAAO,CAACE,kBAAkB,GAAGA,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}