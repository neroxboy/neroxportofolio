{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.derivePairingCodeKey = exports.hkdf = exports.md5 = exports.sha256 = exports.hmacSign = exports.aesEncrypWithIV = exports.aesEncrypt = exports.aesDecryptWithIV = exports.aesDecrypt = exports.aesDecryptCTR = exports.aesEncryptCTR = exports.aesDecryptGCM = exports.aesEncryptGCM = exports.signedKeyPair = exports.Curve = exports.generateSignalPubKey = void 0;\nconst crypto_1 = require(\"crypto\");\nconst futoin_hkdf_1 = __importDefault(require(\"futoin-hkdf\"));\nconst libsignal = __importStar(require(\"libsignal\"));\nconst util_1 = require(\"util\");\nconst Defaults_1 = require(\"../Defaults\");\nconst pbkdf2Promise = (0, util_1.promisify)(crypto_1.pbkdf2);\n/** prefix version byte to the pub keys, required for some curve crypto functions */\nconst generateSignalPubKey = pubKey => pubKey.length === 33 ? pubKey : Buffer.concat([Defaults_1.KEY_BUNDLE_TYPE, pubKey]);\nexports.generateSignalPubKey = generateSignalPubKey;\nexports.Curve = {\n  generateKeyPair: () => {\n    const {\n      pubKey,\n      privKey\n    } = libsignal.curve.generateKeyPair();\n    return {\n      private: Buffer.from(privKey),\n      // remove version byte\n      public: Buffer.from(pubKey.slice(1))\n    };\n  },\n  sharedKey: (privateKey, publicKey) => {\n    const shared = libsignal.curve.calculateAgreement((0, exports.generateSignalPubKey)(publicKey), privateKey);\n    return Buffer.from(shared);\n  },\n  sign: (privateKey, buf) => libsignal.curve.calculateSignature(privateKey, buf),\n  verify: (pubKey, message, signature) => {\n    try {\n      libsignal.curve.verifySignature((0, exports.generateSignalPubKey)(pubKey), message, signature);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n};\nconst signedKeyPair = (identityKeyPair, keyId) => {\n  const preKey = exports.Curve.generateKeyPair();\n  const pubKey = (0, exports.generateSignalPubKey)(preKey.public);\n  const signature = exports.Curve.sign(identityKeyPair.private, pubKey);\n  return {\n    keyPair: preKey,\n    signature,\n    keyId\n  };\n};\nexports.signedKeyPair = signedKeyPair;\nconst GCM_TAG_LENGTH = 128 >> 3;\n/**\n * encrypt AES 256 GCM;\n * where the tag tag is suffixed to the ciphertext\n * */\nfunction aesEncryptGCM(plaintext, key, iv, additionalData) {\n  const cipher = (0, crypto_1.createCipheriv)('aes-256-gcm', key, iv);\n  cipher.setAAD(additionalData);\n  return Buffer.concat([cipher.update(plaintext), cipher.final(), cipher.getAuthTag()]);\n}\nexports.aesEncryptGCM = aesEncryptGCM;\n/**\n * decrypt AES 256 GCM;\n * where the auth tag is suffixed to the ciphertext\n * */\nfunction aesDecryptGCM(ciphertext, key, iv, additionalData) {\n  const decipher = (0, crypto_1.createDecipheriv)('aes-256-gcm', key, iv);\n  // decrypt additional adata\n  const enc = ciphertext.slice(0, ciphertext.length - GCM_TAG_LENGTH);\n  const tag = ciphertext.slice(ciphertext.length - GCM_TAG_LENGTH);\n  // set additional data\n  decipher.setAAD(additionalData);\n  decipher.setAuthTag(tag);\n  return Buffer.concat([decipher.update(enc), decipher.final()]);\n}\nexports.aesDecryptGCM = aesDecryptGCM;\nfunction aesEncryptCTR(plaintext, key, iv) {\n  const cipher = (0, crypto_1.createCipheriv)('aes-256-ctr', key, iv);\n  return Buffer.concat([cipher.update(plaintext), cipher.final()]);\n}\nexports.aesEncryptCTR = aesEncryptCTR;\nfunction aesDecryptCTR(ciphertext, key, iv) {\n  const decipher = (0, crypto_1.createDecipheriv)('aes-256-ctr', key, iv);\n  return Buffer.concat([decipher.update(ciphertext), decipher.final()]);\n}\nexports.aesDecryptCTR = aesDecryptCTR;\n/** decrypt AES 256 CBC; where the IV is prefixed to the buffer */\nfunction aesDecrypt(buffer, key) {\n  return aesDecryptWithIV(buffer.slice(16, buffer.length), key, buffer.slice(0, 16));\n}\nexports.aesDecrypt = aesDecrypt;\n/** decrypt AES 256 CBC */\nfunction aesDecryptWithIV(buffer, key, IV) {\n  const aes = (0, crypto_1.createDecipheriv)('aes-256-cbc', key, IV);\n  return Buffer.concat([aes.update(buffer), aes.final()]);\n}\nexports.aesDecryptWithIV = aesDecryptWithIV;\n// encrypt AES 256 CBC; where a random IV is prefixed to the buffer\nfunction aesEncrypt(buffer, key) {\n  const IV = (0, crypto_1.randomBytes)(16);\n  const aes = (0, crypto_1.createCipheriv)('aes-256-cbc', key, IV);\n  return Buffer.concat([IV, aes.update(buffer), aes.final()]); // prefix IV to the buffer\n}\nexports.aesEncrypt = aesEncrypt;\n// encrypt AES 256 CBC with a given IV\nfunction aesEncrypWithIV(buffer, key, IV) {\n  const aes = (0, crypto_1.createCipheriv)('aes-256-cbc', key, IV);\n  return Buffer.concat([aes.update(buffer), aes.final()]); // prefix IV to the buffer\n}\nexports.aesEncrypWithIV = aesEncrypWithIV;\n// sign HMAC using SHA 256\nfunction hmacSign(buffer, key, variant = 'sha256') {\n  return (0, crypto_1.createHmac)(variant, key).update(buffer).digest();\n}\nexports.hmacSign = hmacSign;\nfunction sha256(buffer) {\n  return (0, crypto_1.createHash)('sha256').update(buffer).digest();\n}\nexports.sha256 = sha256;\nfunction md5(buffer) {\n  return (0, crypto_1.createHash)('md5').update(buffer).digest();\n}\nexports.md5 = md5;\n// HKDF key expansion\nfunction hkdf(buffer, expandedLength, info) {\n  return (0, futoin_hkdf_1.default)(!Buffer.isBuffer(buffer) ? Buffer.from(buffer) : buffer, expandedLength, info);\n}\nexports.hkdf = hkdf;\nasync function derivePairingCodeKey(pairingCode, salt) {\n  return await pbkdf2Promise(pairingCode, salt, 2 << 16, 32, 'sha256');\n}\nexports.derivePairingCodeKey = derivePairingCodeKey;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","exports","derivePairingCodeKey","hkdf","md5","sha256","hmacSign","aesEncrypWithIV","aesEncrypt","aesDecryptWithIV","aesDecrypt","aesDecryptCTR","aesEncryptCTR","aesDecryptGCM","aesEncryptGCM","signedKeyPair","Curve","generateSignalPubKey","crypto_1","require","futoin_hkdf_1","libsignal","util_1","Defaults_1","pbkdf2Promise","promisify","pbkdf2","pubKey","length","Buffer","concat","KEY_BUNDLE_TYPE","generateKeyPair","privKey","curve","private","from","public","slice","sharedKey","privateKey","publicKey","shared","calculateAgreement","sign","buf","calculateSignature","verify","message","signature","verifySignature","error","identityKeyPair","keyId","preKey","keyPair","GCM_TAG_LENGTH","plaintext","key","iv","additionalData","cipher","createCipheriv","setAAD","update","final","getAuthTag","ciphertext","decipher","createDecipheriv","enc","tag","setAuthTag","buffer","IV","aes","randomBytes","variant","createHmac","digest","createHash","expandedLength","info","default","isBuffer","pairingCode","salt"],"sources":["C:/Users/vanitas/node_modules/@whiskeysockets/baileys/lib/Utils/crypto.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.derivePairingCodeKey = exports.hkdf = exports.md5 = exports.sha256 = exports.hmacSign = exports.aesEncrypWithIV = exports.aesEncrypt = exports.aesDecryptWithIV = exports.aesDecrypt = exports.aesDecryptCTR = exports.aesEncryptCTR = exports.aesDecryptGCM = exports.aesEncryptGCM = exports.signedKeyPair = exports.Curve = exports.generateSignalPubKey = void 0;\nconst crypto_1 = require(\"crypto\");\nconst futoin_hkdf_1 = __importDefault(require(\"futoin-hkdf\"));\nconst libsignal = __importStar(require(\"libsignal\"));\nconst util_1 = require(\"util\");\nconst Defaults_1 = require(\"../Defaults\");\nconst pbkdf2Promise = (0, util_1.promisify)(crypto_1.pbkdf2);\n/** prefix version byte to the pub keys, required for some curve crypto functions */\nconst generateSignalPubKey = (pubKey) => (pubKey.length === 33\n    ? pubKey\n    : Buffer.concat([Defaults_1.KEY_BUNDLE_TYPE, pubKey]));\nexports.generateSignalPubKey = generateSignalPubKey;\nexports.Curve = {\n    generateKeyPair: () => {\n        const { pubKey, privKey } = libsignal.curve.generateKeyPair();\n        return {\n            private: Buffer.from(privKey),\n            // remove version byte\n            public: Buffer.from(pubKey.slice(1))\n        };\n    },\n    sharedKey: (privateKey, publicKey) => {\n        const shared = libsignal.curve.calculateAgreement((0, exports.generateSignalPubKey)(publicKey), privateKey);\n        return Buffer.from(shared);\n    },\n    sign: (privateKey, buf) => (libsignal.curve.calculateSignature(privateKey, buf)),\n    verify: (pubKey, message, signature) => {\n        try {\n            libsignal.curve.verifySignature((0, exports.generateSignalPubKey)(pubKey), message, signature);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    }\n};\nconst signedKeyPair = (identityKeyPair, keyId) => {\n    const preKey = exports.Curve.generateKeyPair();\n    const pubKey = (0, exports.generateSignalPubKey)(preKey.public);\n    const signature = exports.Curve.sign(identityKeyPair.private, pubKey);\n    return { keyPair: preKey, signature, keyId };\n};\nexports.signedKeyPair = signedKeyPair;\nconst GCM_TAG_LENGTH = 128 >> 3;\n/**\n * encrypt AES 256 GCM;\n * where the tag tag is suffixed to the ciphertext\n * */\nfunction aesEncryptGCM(plaintext, key, iv, additionalData) {\n    const cipher = (0, crypto_1.createCipheriv)('aes-256-gcm', key, iv);\n    cipher.setAAD(additionalData);\n    return Buffer.concat([cipher.update(plaintext), cipher.final(), cipher.getAuthTag()]);\n}\nexports.aesEncryptGCM = aesEncryptGCM;\n/**\n * decrypt AES 256 GCM;\n * where the auth tag is suffixed to the ciphertext\n * */\nfunction aesDecryptGCM(ciphertext, key, iv, additionalData) {\n    const decipher = (0, crypto_1.createDecipheriv)('aes-256-gcm', key, iv);\n    // decrypt additional adata\n    const enc = ciphertext.slice(0, ciphertext.length - GCM_TAG_LENGTH);\n    const tag = ciphertext.slice(ciphertext.length - GCM_TAG_LENGTH);\n    // set additional data\n    decipher.setAAD(additionalData);\n    decipher.setAuthTag(tag);\n    return Buffer.concat([decipher.update(enc), decipher.final()]);\n}\nexports.aesDecryptGCM = aesDecryptGCM;\nfunction aesEncryptCTR(plaintext, key, iv) {\n    const cipher = (0, crypto_1.createCipheriv)('aes-256-ctr', key, iv);\n    return Buffer.concat([cipher.update(plaintext), cipher.final()]);\n}\nexports.aesEncryptCTR = aesEncryptCTR;\nfunction aesDecryptCTR(ciphertext, key, iv) {\n    const decipher = (0, crypto_1.createDecipheriv)('aes-256-ctr', key, iv);\n    return Buffer.concat([decipher.update(ciphertext), decipher.final()]);\n}\nexports.aesDecryptCTR = aesDecryptCTR;\n/** decrypt AES 256 CBC; where the IV is prefixed to the buffer */\nfunction aesDecrypt(buffer, key) {\n    return aesDecryptWithIV(buffer.slice(16, buffer.length), key, buffer.slice(0, 16));\n}\nexports.aesDecrypt = aesDecrypt;\n/** decrypt AES 256 CBC */\nfunction aesDecryptWithIV(buffer, key, IV) {\n    const aes = (0, crypto_1.createDecipheriv)('aes-256-cbc', key, IV);\n    return Buffer.concat([aes.update(buffer), aes.final()]);\n}\nexports.aesDecryptWithIV = aesDecryptWithIV;\n// encrypt AES 256 CBC; where a random IV is prefixed to the buffer\nfunction aesEncrypt(buffer, key) {\n    const IV = (0, crypto_1.randomBytes)(16);\n    const aes = (0, crypto_1.createCipheriv)('aes-256-cbc', key, IV);\n    return Buffer.concat([IV, aes.update(buffer), aes.final()]); // prefix IV to the buffer\n}\nexports.aesEncrypt = aesEncrypt;\n// encrypt AES 256 CBC with a given IV\nfunction aesEncrypWithIV(buffer, key, IV) {\n    const aes = (0, crypto_1.createCipheriv)('aes-256-cbc', key, IV);\n    return Buffer.concat([aes.update(buffer), aes.final()]); // prefix IV to the buffer\n}\nexports.aesEncrypWithIV = aesEncrypWithIV;\n// sign HMAC using SHA 256\nfunction hmacSign(buffer, key, variant = 'sha256') {\n    return (0, crypto_1.createHmac)(variant, key).update(buffer).digest();\n}\nexports.hmacSign = hmacSign;\nfunction sha256(buffer) {\n    return (0, crypto_1.createHash)('sha256').update(buffer).digest();\n}\nexports.sha256 = sha256;\nfunction md5(buffer) {\n    return (0, crypto_1.createHash)('md5').update(buffer).digest();\n}\nexports.md5 = md5;\n// HKDF key expansion\nfunction hkdf(buffer, expandedLength, info) {\n    return (0, futoin_hkdf_1.default)(!Buffer.isBuffer(buffer) ? Buffer.from(buffer) : buffer, expandedLength, info);\n}\nexports.hkdf = hkdf;\nasync function derivePairingCodeKey(pairingCode, salt) {\n    return await pbkdf2Promise(pairingCode, salt, 2 << 16, 32, 'sha256');\n}\nexports.derivePairingCodeKey = derivePairingCodeKey;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,KAAMC,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EAC5F,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5B,IAAIG,IAAI,GAAGP,MAAM,CAACQ,wBAAwB,CAACL,CAAC,EAAEC,CAAC,CAAC;EAChD,IAAI,CAACG,IAAI,KAAK,KAAK,IAAIA,IAAI,GAAG,CAACJ,CAAC,CAACM,UAAU,GAAGF,IAAI,CAACG,QAAQ,IAAIH,IAAI,CAACI,YAAY,CAAC,EAAE;IACjFJ,IAAI,GAAG;MAAEK,UAAU,EAAE,IAAI;MAAEC,GAAG,EAAE,SAAAA,CAAA,EAAW;QAAE,OAAOV,CAAC,CAACC,CAAC,CAAC;MAAE;IAAE,CAAC;EAC/D;EACAJ,MAAM,CAACc,cAAc,CAACZ,CAAC,EAAEG,EAAE,EAAEE,IAAI,CAAC;AACtC,CAAC,GAAK,UAASL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EACxB,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BF,CAAC,CAACG,EAAE,CAAC,GAAGF,CAAC,CAACC,CAAC,CAAC;AAChB,CAAE,CAAC;AACH,IAAIW,kBAAkB,GAAI,IAAI,IAAI,IAAI,CAACA,kBAAkB,KAAMf,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEc,CAAC,EAAE;EAC3FhB,MAAM,CAACc,cAAc,CAACZ,CAAC,EAAE,SAAS,EAAE;IAAEU,UAAU,EAAE,IAAI;IAAEK,KAAK,EAAED;EAAE,CAAC,CAAC;AACvE,CAAC,GAAI,UAASd,CAAC,EAAEc,CAAC,EAAE;EAChBd,CAAC,CAAC,SAAS,CAAC,GAAGc,CAAC;AACpB,CAAC,CAAC;AACF,IAAIE,YAAY,GAAI,IAAI,IAAI,IAAI,CAACA,YAAY,IAAK,UAAUC,GAAG,EAAE;EAC7D,IAAIA,GAAG,IAAIA,GAAG,CAACV,UAAU,EAAE,OAAOU,GAAG;EACrC,IAAIC,MAAM,GAAG,CAAC,CAAC;EACf,IAAID,GAAG,IAAI,IAAI,EAAE,KAAK,IAAIf,CAAC,IAAIe,GAAG,EAAE,IAAIf,CAAC,KAAK,SAAS,IAAIJ,MAAM,CAACqB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,GAAG,EAAEf,CAAC,CAAC,EAAEL,eAAe,CAACqB,MAAM,EAAED,GAAG,EAAEf,CAAC,CAAC;EACxIW,kBAAkB,CAACK,MAAM,EAAED,GAAG,CAAC;EAC/B,OAAOC,MAAM;AACjB,CAAC;AACD,IAAII,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUL,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACV,UAAU,GAAIU,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDnB,MAAM,CAACc,cAAc,CAACW,OAAO,EAAE,YAAY,EAAE;EAAER,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DQ,OAAO,CAACC,oBAAoB,GAAGD,OAAO,CAACE,IAAI,GAAGF,OAAO,CAACG,GAAG,GAAGH,OAAO,CAACI,MAAM,GAAGJ,OAAO,CAACK,QAAQ,GAAGL,OAAO,CAACM,eAAe,GAAGN,OAAO,CAACO,UAAU,GAAGP,OAAO,CAACQ,gBAAgB,GAAGR,OAAO,CAACS,UAAU,GAAGT,OAAO,CAACU,aAAa,GAAGV,OAAO,CAACW,aAAa,GAAGX,OAAO,CAACY,aAAa,GAAGZ,OAAO,CAACa,aAAa,GAAGb,OAAO,CAACc,aAAa,GAAGd,OAAO,CAACe,KAAK,GAAGf,OAAO,CAACgB,oBAAoB,GAAG,KAAK,CAAC;AAC5W,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMC,aAAa,GAAGpB,eAAe,CAACmB,OAAO,CAAC,aAAa,CAAC,CAAC;AAC7D,MAAME,SAAS,GAAG3B,YAAY,CAACyB,OAAO,CAAC,WAAW,CAAC,CAAC;AACpD,MAAMG,MAAM,GAAGH,OAAO,CAAC,MAAM,CAAC;AAC9B,MAAMI,UAAU,GAAGJ,OAAO,CAAC,aAAa,CAAC;AACzC,MAAMK,aAAa,GAAG,CAAC,CAAC,EAAEF,MAAM,CAACG,SAAS,EAAEP,QAAQ,CAACQ,MAAM,CAAC;AAC5D;AACA,MAAMT,oBAAoB,GAAIU,MAAM,IAAMA,MAAM,CAACC,MAAM,KAAK,EAAE,GACxDD,MAAM,GACNE,MAAM,CAACC,MAAM,CAAC,CAACP,UAAU,CAACQ,eAAe,EAAEJ,MAAM,CAAC,CAAE;AAC1D1B,OAAO,CAACgB,oBAAoB,GAAGA,oBAAoB;AACnDhB,OAAO,CAACe,KAAK,GAAG;EACZgB,eAAe,EAAEA,CAAA,KAAM;IACnB,MAAM;MAAEL,MAAM;MAAEM;IAAQ,CAAC,GAAGZ,SAAS,CAACa,KAAK,CAACF,eAAe,CAAC,CAAC;IAC7D,OAAO;MACHG,OAAO,EAAEN,MAAM,CAACO,IAAI,CAACH,OAAO,CAAC;MAC7B;MACAI,MAAM,EAAER,MAAM,CAACO,IAAI,CAACT,MAAM,CAACW,KAAK,CAAC,CAAC,CAAC;IACvC,CAAC;EACL,CAAC;EACDC,SAAS,EAAEA,CAACC,UAAU,EAAEC,SAAS,KAAK;IAClC,MAAMC,MAAM,GAAGrB,SAAS,CAACa,KAAK,CAACS,kBAAkB,CAAC,CAAC,CAAC,EAAE1C,OAAO,CAACgB,oBAAoB,EAAEwB,SAAS,CAAC,EAAED,UAAU,CAAC;IAC3G,OAAOX,MAAM,CAACO,IAAI,CAACM,MAAM,CAAC;EAC9B,CAAC;EACDE,IAAI,EAAEA,CAACJ,UAAU,EAAEK,GAAG,KAAMxB,SAAS,CAACa,KAAK,CAACY,kBAAkB,CAACN,UAAU,EAAEK,GAAG,CAAE;EAChFE,MAAM,EAAEA,CAACpB,MAAM,EAAEqB,OAAO,EAAEC,SAAS,KAAK;IACpC,IAAI;MACA5B,SAAS,CAACa,KAAK,CAACgB,eAAe,CAAC,CAAC,CAAC,EAAEjD,OAAO,CAACgB,oBAAoB,EAAEU,MAAM,CAAC,EAAEqB,OAAO,EAAEC,SAAS,CAAC;MAC9F,OAAO,IAAI;IACf,CAAC,CACD,OAAOE,KAAK,EAAE;MACV,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC;AACD,MAAMpC,aAAa,GAAGA,CAACqC,eAAe,EAAEC,KAAK,KAAK;EAC9C,MAAMC,MAAM,GAAGrD,OAAO,CAACe,KAAK,CAACgB,eAAe,CAAC,CAAC;EAC9C,MAAML,MAAM,GAAG,CAAC,CAAC,EAAE1B,OAAO,CAACgB,oBAAoB,EAAEqC,MAAM,CAACjB,MAAM,CAAC;EAC/D,MAAMY,SAAS,GAAGhD,OAAO,CAACe,KAAK,CAAC4B,IAAI,CAACQ,eAAe,CAACjB,OAAO,EAAER,MAAM,CAAC;EACrE,OAAO;IAAE4B,OAAO,EAAED,MAAM;IAAEL,SAAS;IAAEI;EAAM,CAAC;AAChD,CAAC;AACDpD,OAAO,CAACc,aAAa,GAAGA,aAAa;AACrC,MAAMyC,cAAc,GAAG,GAAG,IAAI,CAAC;AAC/B;AACA;AACA;AACA;AACA,SAAS1C,aAAaA,CAAC2C,SAAS,EAAEC,GAAG,EAAEC,EAAE,EAAEC,cAAc,EAAE;EACvD,MAAMC,MAAM,GAAG,CAAC,CAAC,EAAE3C,QAAQ,CAAC4C,cAAc,EAAE,aAAa,EAAEJ,GAAG,EAAEC,EAAE,CAAC;EACnEE,MAAM,CAACE,MAAM,CAACH,cAAc,CAAC;EAC7B,OAAO/B,MAAM,CAACC,MAAM,CAAC,CAAC+B,MAAM,CAACG,MAAM,CAACP,SAAS,CAAC,EAAEI,MAAM,CAACI,KAAK,CAAC,CAAC,EAAEJ,MAAM,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC;AACzF;AACAjE,OAAO,CAACa,aAAa,GAAGA,aAAa;AACrC;AACA;AACA;AACA;AACA,SAASD,aAAaA,CAACsD,UAAU,EAAET,GAAG,EAAEC,EAAE,EAAEC,cAAc,EAAE;EACxD,MAAMQ,QAAQ,GAAG,CAAC,CAAC,EAAElD,QAAQ,CAACmD,gBAAgB,EAAE,aAAa,EAAEX,GAAG,EAAEC,EAAE,CAAC;EACvE;EACA,MAAMW,GAAG,GAAGH,UAAU,CAAC7B,KAAK,CAAC,CAAC,EAAE6B,UAAU,CAACvC,MAAM,GAAG4B,cAAc,CAAC;EACnE,MAAMe,GAAG,GAAGJ,UAAU,CAAC7B,KAAK,CAAC6B,UAAU,CAACvC,MAAM,GAAG4B,cAAc,CAAC;EAChE;EACAY,QAAQ,CAACL,MAAM,CAACH,cAAc,CAAC;EAC/BQ,QAAQ,CAACI,UAAU,CAACD,GAAG,CAAC;EACxB,OAAO1C,MAAM,CAACC,MAAM,CAAC,CAACsC,QAAQ,CAACJ,MAAM,CAACM,GAAG,CAAC,EAAEF,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC;AAClE;AACAhE,OAAO,CAACY,aAAa,GAAGA,aAAa;AACrC,SAASD,aAAaA,CAAC6C,SAAS,EAAEC,GAAG,EAAEC,EAAE,EAAE;EACvC,MAAME,MAAM,GAAG,CAAC,CAAC,EAAE3C,QAAQ,CAAC4C,cAAc,EAAE,aAAa,EAAEJ,GAAG,EAAEC,EAAE,CAAC;EACnE,OAAO9B,MAAM,CAACC,MAAM,CAAC,CAAC+B,MAAM,CAACG,MAAM,CAACP,SAAS,CAAC,EAAEI,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC;AACpE;AACAhE,OAAO,CAACW,aAAa,GAAGA,aAAa;AACrC,SAASD,aAAaA,CAACwD,UAAU,EAAET,GAAG,EAAEC,EAAE,EAAE;EACxC,MAAMS,QAAQ,GAAG,CAAC,CAAC,EAAElD,QAAQ,CAACmD,gBAAgB,EAAE,aAAa,EAAEX,GAAG,EAAEC,EAAE,CAAC;EACvE,OAAO9B,MAAM,CAACC,MAAM,CAAC,CAACsC,QAAQ,CAACJ,MAAM,CAACG,UAAU,CAAC,EAAEC,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC;AACzE;AACAhE,OAAO,CAACU,aAAa,GAAGA,aAAa;AACrC;AACA,SAASD,UAAUA,CAAC+D,MAAM,EAAEf,GAAG,EAAE;EAC7B,OAAOjD,gBAAgB,CAACgE,MAAM,CAACnC,KAAK,CAAC,EAAE,EAAEmC,MAAM,CAAC7C,MAAM,CAAC,EAAE8B,GAAG,EAAEe,MAAM,CAACnC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACtF;AACArC,OAAO,CAACS,UAAU,GAAGA,UAAU;AAC/B;AACA,SAASD,gBAAgBA,CAACgE,MAAM,EAAEf,GAAG,EAAEgB,EAAE,EAAE;EACvC,MAAMC,GAAG,GAAG,CAAC,CAAC,EAAEzD,QAAQ,CAACmD,gBAAgB,EAAE,aAAa,EAAEX,GAAG,EAAEgB,EAAE,CAAC;EAClE,OAAO7C,MAAM,CAACC,MAAM,CAAC,CAAC6C,GAAG,CAACX,MAAM,CAACS,MAAM,CAAC,EAAEE,GAAG,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3D;AACAhE,OAAO,CAACQ,gBAAgB,GAAGA,gBAAgB;AAC3C;AACA,SAASD,UAAUA,CAACiE,MAAM,EAAEf,GAAG,EAAE;EAC7B,MAAMgB,EAAE,GAAG,CAAC,CAAC,EAAExD,QAAQ,CAAC0D,WAAW,EAAE,EAAE,CAAC;EACxC,MAAMD,GAAG,GAAG,CAAC,CAAC,EAAEzD,QAAQ,CAAC4C,cAAc,EAAE,aAAa,EAAEJ,GAAG,EAAEgB,EAAE,CAAC;EAChE,OAAO7C,MAAM,CAACC,MAAM,CAAC,CAAC4C,EAAE,EAAEC,GAAG,CAACX,MAAM,CAACS,MAAM,CAAC,EAAEE,GAAG,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE;AACAhE,OAAO,CAACO,UAAU,GAAGA,UAAU;AAC/B;AACA,SAASD,eAAeA,CAACkE,MAAM,EAAEf,GAAG,EAAEgB,EAAE,EAAE;EACtC,MAAMC,GAAG,GAAG,CAAC,CAAC,EAAEzD,QAAQ,CAAC4C,cAAc,EAAE,aAAa,EAAEJ,GAAG,EAAEgB,EAAE,CAAC;EAChE,OAAO7C,MAAM,CAACC,MAAM,CAAC,CAAC6C,GAAG,CAACX,MAAM,CAACS,MAAM,CAAC,EAAEE,GAAG,CAACV,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D;AACAhE,OAAO,CAACM,eAAe,GAAGA,eAAe;AACzC;AACA,SAASD,QAAQA,CAACmE,MAAM,EAAEf,GAAG,EAAEmB,OAAO,GAAG,QAAQ,EAAE;EAC/C,OAAO,CAAC,CAAC,EAAE3D,QAAQ,CAAC4D,UAAU,EAAED,OAAO,EAAEnB,GAAG,CAAC,CAACM,MAAM,CAACS,MAAM,CAAC,CAACM,MAAM,CAAC,CAAC;AACzE;AACA9E,OAAO,CAACK,QAAQ,GAAGA,QAAQ;AAC3B,SAASD,MAAMA,CAACoE,MAAM,EAAE;EACpB,OAAO,CAAC,CAAC,EAAEvD,QAAQ,CAAC8D,UAAU,EAAE,QAAQ,CAAC,CAAChB,MAAM,CAACS,MAAM,CAAC,CAACM,MAAM,CAAC,CAAC;AACrE;AACA9E,OAAO,CAACI,MAAM,GAAGA,MAAM;AACvB,SAASD,GAAGA,CAACqE,MAAM,EAAE;EACjB,OAAO,CAAC,CAAC,EAAEvD,QAAQ,CAAC8D,UAAU,EAAE,KAAK,CAAC,CAAChB,MAAM,CAACS,MAAM,CAAC,CAACM,MAAM,CAAC,CAAC;AAClE;AACA9E,OAAO,CAACG,GAAG,GAAGA,GAAG;AACjB;AACA,SAASD,IAAIA,CAACsE,MAAM,EAAEQ,cAAc,EAAEC,IAAI,EAAE;EACxC,OAAO,CAAC,CAAC,EAAE9D,aAAa,CAAC+D,OAAO,EAAE,CAACtD,MAAM,CAACuD,QAAQ,CAACX,MAAM,CAAC,GAAG5C,MAAM,CAACO,IAAI,CAACqC,MAAM,CAAC,GAAGA,MAAM,EAAEQ,cAAc,EAAEC,IAAI,CAAC;AACpH;AACAjF,OAAO,CAACE,IAAI,GAAGA,IAAI;AACnB,eAAeD,oBAAoBA,CAACmF,WAAW,EAAEC,IAAI,EAAE;EACnD,OAAO,MAAM9D,aAAa,CAAC6D,WAAW,EAAEC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,QAAQ,CAAC;AACxE;AACArF,OAAO,CAACC,oBAAoB,GAAGA,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}